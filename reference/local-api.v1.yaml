openapi: 3.0.0
info:
  title: local api
  version: '1.0'
  description: API for the local environment.
servers:
  - url: 'http://localhost:8000'
paths:
  /api/user/myprofile/:
    get:
      summary: fetchUserAPI
      tags:
        - user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    displayName:
                      type: string
                    avatar:
                      type: string
                    about:
                      type: string
      operationId: get-api-user-myprofile
      description: ログインユーザのプロフィール情報を取得
      parameters:
        - schema:
            type: string
          in: header
          name: 'Authorization: `Token ${token}`'
  /api/user/follow-list/:
    get:
      summary: fetchFollowAPI
      tags:
        - user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    askFrom:
                      type: integer
                    askTo:
                      type: integer
                    approved:
                      type: boolean
      operationId: get-api-user-follow-list
      description: ログインユーザのフォローユーザ一覧取得
      parameters:
        - schema:
            type: string
          in: header
          name: 'Authorization: `Token ${token}`'
  /api/user/follower-list/:
    get:
      summary: fetchFollowerAPI
      tags:
        - user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    askFrom:
                      type: integer
                    askTo:
                      type: integer
                    approved:
                      type: boolean
      operationId: get-api-user-follower-list
      description: ログインユーザのフォロワー覧取得
      parameters:
        - schema:
            type: string
          in: header
          name: 'Authorization: `Token ${token}`'
  /api/user/friends-list/:
    get:
      summary: fetchFriendsAPI
      tags:
        - user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    askFrom:
                      type: integer
                    askTo:
                      type: integer
                    approved:
                      type: boolean
                      default: 'true'
      operationId: get-api-user-friends-list
      description: 相互フォローのユーザ一覧を取得
      parameters:
        - schema:
            type: string
          in: header
          name: 'Authorization: `Token ${token}`'
  /api/user/profiles/:
    get:
      summary: fetchUsersAPI
      tags:
        - user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    displayName:
                      type: string
                    avatar:
                      type: string
                    about:
                      type: string
      operationId: get-api-user-profiles
      description: サービスを利用しているユーザ情報の一覧を取得
    post:
      summary: createUserAPI
      operationId: post-api-user-profiles
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  displayName:
                    type: string
                  avatar:
                    type: string
                  about:
                    type: 'null'
      description: ユーザの新規登録
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                password:
                  type: string
                displayName:
                  type: string
                avatar:
                  default: 'null'
                  type: 'null'
                about:
                  type: string
                  default: '""'
      tags:
        - user
    patch:
      summary: patchUserAPI
      operationId: patch-api-user-profiles
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                  displayName:
                    type: string
                  avatar:
                    type: string
                  about:
                    type: string
      tags:
        - user
      parameters:
        - schema:
            type: integer
          in: query
          name: '${userId}/'
        - schema:
            type: string
          in: header
          name: 'Authorization: `Token ${token}`'
      description: ログインユーザ情報の更新
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                displayName:
                  type: string
                about:
                  type: string
                avatar:
                  type: string
        description: 更新したい情報がパラメータとして送信される
    parameters: []
    delete:
      summary: deleteUserAPI
      operationId: delete-api-user-profiles
      responses:
        '204':
          description: No Content
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
      tags:
        - user
      description: ユーザ情報の削除
      parameters:
        - schema:
            type: string
          in: header
          name: 'Authorization: `Token ${token}`'
        - schema:
            type: integer
          in: query
          name: '${userId}/'
  /api/user/approval/:
    get:
      summary: Your GET endpoint
      tags: []
      responses: {}
      operationId: get-api-user-approval
    post:
      summary: ''
      operationId: post-api-user-approval
      responses:
        '200':
          description: OK
    patch:
      summary: ''
      operationId: patch-api-user-approval
      responses:
        '200':
          description: OK
    delete:
      summary: ''
      operationId: delete-api-user-approval
      responses:
        '200':
          description: OK
  /api/post/:
    get:
      summary: Your GET endpoint
      tags: []
      responses: {}
      operationId: get-api-post
  /api/post/myposts/:
    get:
      summary: Your GET endpoint
      tags: []
      responses: {}
      operationId: get-api-post-myposts
  /api/post/friend-posts/:
    get:
      summary: Your GET endpoint
      tags: []
      responses: {}
      operationId: get-api-post-friend-posts
  /api/dm/message/:
    get:
      summary: Your GET endpoint
      tags: []
      responses: {}
      operationId: get-api-dm-s
    parameters: []
  /api/dm/inbox/:
    get:
      summary: Your GET endpoint
      tags: []
      responses: {}
      operationId: get-api-dm-inbox
components:
  schemas:
    User:
      title: User
      type: object
      properties:
        displayName:
          type: string
        avatar:
          type: string
        about:
          type: string
        created_at:
          type: string
        userPro:
          type: integer
          description: OneToOne Field Foreign Key with User model.
    FriendRequests:
      title: FriendRequests
      type: object
      x-examples: {}
      properties:
        askFrom:
          type: integer
        askTo:
          type: integer
        approved:
          type: boolean
          default: 'false'
      required:
        - askFrom
        - askTo
        - approved
    DirectMessages:
      title: DirectMessages
      type: object
      properties:
        sender:
          type: integer
        receiver:
          type: integer
        message:
          type: string
    Post:
      title: Post
      type: object
      properties:
        userId:
          type: integer
        content:
          type: string
      required:
        - userId
        - content
